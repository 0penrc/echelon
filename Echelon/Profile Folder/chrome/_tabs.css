#TabsToolbar {
  padding-left: 4px !important;
  padding-right: 4px !important;
}

#tabbrowser-tabs, #tabbrowser-arrowscrollbox, #tabbrowser-tabs[positionpinnedtabs] > #tabbrowser-arrowscrollbox > .tabbrowser-tab[pinned] {
  min-height: calc(var(--tab-min-height) + 1px) !important;
}

.tabbrowser-tab {
  padding: 0 !important;
}

.tabbrowser-tab:not([pinned]) {
  transition: min-width 200ms ease-out, max-width 250ms ease-out , opacity 50ms ease-out 20ms !important;
}

.tabbrowser-tab:not([pinned]):not([fadein]) {
  opacity: 0 !important;
  transition: min-width 200ms ease-out, max-width 250ms ease-out , opacity 50ms ease-out 100ms !important;
}

.tabbrowser-tab:where([visuallyselected="true"]) {
  z-index: 999 !important;
}

.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
    max-width: 250px !important; 
}

.tab-background,
#tabs-newtab-button {
  box-shadow: none !important;
  border-image: url(images/tab.png) 6 3 4 / 6px 3px 4px repeat stretch !important;
  background-image: linear-gradient(to top, rgba(10%,10%,10%,.4) 1px, transparent 1px), var(--tab-background), linear-gradient(-moz-dialog, -moz-dialog) !important;
  background-color: transparent !important;
  background-position: -2px -2px !important;
  background-size: calc(100% + 4px) calc(100% + 2px) !important;
  background-repeat: no-repeat !important;
  border-radius: var(--tab-border-radius) !important;
  border-width: 4px 3px 0 !important;
  border-style: solid !important;
  margin-block: 0 !important;
}

#tabs-newtab-button {
  width: 30px !important;
  padding-bottom: 2px !important;
}

#tabs-newtab-button:hover,
#tabs-newtab-button[open] {
  background-image: linear-gradient(to top, rgba(10%,10%,10%,.4) 1px, transparent 1px), var(--tab-background-hover), linear-gradient(-moz-dialog, -moz-dialog) !important;
}

#tabs-newtab-button:hover:active .toolbarbutton-icon,
#tabs-newtab-button[open] .toolbarbutton-icon {
  background-position-x: -16px !important;
}

.tab-background:is([selected], [multiselected]) {
  background-image: linear-gradient(var(--tab-selected-highlight), var(--toolbar-highlight-top) 50%), linear-gradient(-moz-dialog, -moz-dialog) !important;
  background-position: 1px 2px !important;
  background-size: calc(100% - 2px) calc(100% - 2px) !important;
  background-repeat: no-repeat !important;
}

.tabbrowser-tab:hover > .tab-stack > .tab-background:not([selected="true"], [multiselected]) {
  background-image: linear-gradient(to top, rgba(10%,10%,10%,.4) 1px, transparent 1px), var(--tab-background-hover), linear-gradient(-moz-dialog, -moz-dialog) !important;
}

.close-icon {
  width: 16px !important;
  height: 16px !important;
  padding: 0 !important;
  background-color: transparent !important;
  border-radius: 0 !important;
  list-style-image: none !important;
  background-image: url("images/close.png") !important;
}

.close-icon:hover,
.tabbrowser-tab:not([visuallyselected="true"]) .close-icon:hover {
  background-position-x: -16px !important;
}

.close-icon:active,
.tabbrowser-tab:not([visuallyselected="true"]) .close-icon:active {
  background-position-x: -32px !important;
}

.tabbrowser-tab:not([visuallyselected="true"]) .close-icon {
  background-position-x: -48px !important;
}

.tab-close-button {
  margin-inline-end: 1px !important;
}

#tabs-newtab-button .toolbarbutton-icon {
  width: 16px !important;
  height: 18px !important;
  padding: 0 !important;
  background-color: transparent !important;
  list-style-image: none !important;
  background-image: url('images/newtab.png') !important;
}

#tabbrowser-tabs:not([secondarytext-unsupported]) .tab-label-container {
  height: unset !important;
}

.titlebar-spacer[type="pre-tabs"], .titlebar-spacer[type="post-tabs"] {
  display: none !important;
}

#TabsToolbar #new-tab-button {
  list-style-image: none !important;
  background-color: transparent !important;
}

#TabsToolbar #new-tab-button:hover,
#TabsToolbar #new-tab-button[open],
#alltabs-button:hover,
#alltabs-button[open],
#scrollbutton-up:hover,
#scrollbutton-down:hover {
  background-image: linear-gradient(var(--toolbar-highlight-bottom), var(--toolbar-highlight-top)), linear-gradient(transparent, rgba(0,0,0,.25) 30%), linear-gradient(transparent, rgba(0,0,0,.25) 30%) !important;
  background-position: 1px -1px, 0 -1px, 100% -1px !important;
  background-size: calc(100% - 2px) 100%, 1px 100%, 1px 100% !important;
  background-repeat: no-repeat !important;
}

#TabsToolbar #new-tab-button .toolbarbutton-icon {
  width: 16px !important;
  height: 18px !important;
  padding: 0 !important;
  background-image: url('images/newtab.png') !important;
  background-color: transparent !important;
}

#TabsToolbar #new-tab-button:hover:active .toolbarbutton-icon,
#TabsToolbar #new-tab-button[open] .toolbarbutton-icon {
  background-position-x: -16px !important;  
}

#alltabs-button {
  list-style-image: none !important;
}

#alltabs-button > .toolbarbutton-badge-stack > .toolbarbutton-icon {
  width: 13px !important;
  height: 11px !important;
  background-image: url('images/searchbar-dropdown-arrow.png') !important;
}

#alltabs-button:active > .toolbarbutton-badge-stack > .toolbarbutton-icon,
#alltabs-button[open] > .toolbarbutton-badge-stack > .toolbarbutton-icon {
  background-position-x: -13px !important;
}

#alltabs-button .toolbarbutton-badge-stack {
  padding: 0 !important;
  border-radius: 0 !important;
  background-color: transparent !important;
}

:root:not([uidensity="compact"]) .tab-content[pinned] {
  padding: 0 8px !important;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs]) > #tabbrowser-arrowscrollbox > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.tab-throbber:not([pinned]), .tab-icon-pending:not([pinned]), .tab-icon-image:not([pinned]), .tab-sharing-icon-overlay:not([pinned]), .tab-icon-overlay:not([pinned]) {
  margin-inline-end: 2px !important;
}

.tab-throbber[busy]::before,
.tab-secondary-label {
  display: none !important;
}

.tab-throbber[busy],
.tab-throbber[progress] {
  background-image: url('images/loading.png') !important;
}

.tab-icon-overlay[soundplaying]:not([crashed]), 
.tab-icon-overlay[muted]:not([crashed]), 
.tab-icon-overlay[activemedia-blocked]:not([crashed]) {
  border-radius: 0 !important;
  background-color: transparent !important;
}

.tab-icon-overlay[soundplaying] {
  list-style-image: url('images/tab-audio.svg#tab-audio') !important;
}

.tab-icon-overlay[muted] {
  list-style-image: url('images/tab-audio.svg#tab-audio-muted') !important;
}

.tab-icon-image:not([src]), .tab-icon-image:-moz-broken {
  content: url('images/blank.png') !important;
  background-image: url('images/folder-item.png') !important;
}

.tab-icon-image:not([src], [pinned], [crashed], [sharing], [pictureinpicture]) {
  display: flex !important;
}

spacer[part="overflow-end-indicator"],
spacer[part="overflow-start-indicator"] {
  width: 2px !important;
  height: 100% !important;
  border: 0;
  background-image: url('images/tab-overflow-border.png') !important;
  border-radius: 0 !important;
  opacity: 1 !important;
  margin-inline: 0 !important;
}

spacer[part="overflow-start-indicator"] {
  background-position-x: -2px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  width: 22px !important;
  list-style-image: none !important;
  padding: 0 !important;
  padding-bottom: 2px !important;
  border: 0 !important;
}

#scrollbutton-up .toolbarbutton-icon,
#scrollbutton-down .toolbarbutton-icon {
  width: 15px !important;
  height: 17px !important;
  background-image: url('images/tab-arrow-left.png') !important;
  padding: 0 !important;
}

.tab-icon-image[src="chrome://branding/content/icon32.png"] {
  content: url('images/icon16.png') !important;
}